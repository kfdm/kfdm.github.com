<html>
    <head>
        <title>WaniKani Progress</title>
        <script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
    // https://developers.google.com/chart/interactive/docs/gallery/annotationchart
    google.load('visualization', '1', {'packages':['annotationchart']});

    // Set a callback to run when the Google Visualization API is loaded.
    google.setOnLoadCallback(function() {
        var queryString = encodeURIComponent('SELECT A, B, C, D, E, F');
        var query = new google.visualization.Query(
            'https://docs.google.com/spreadsheets/d/1e_lcoJCWn_hiuXxoXvahwrq-NKb6DMjPMKcmZfwwIJU/gviz/tq?gid=0&headers=1&tq=' + queryString);
        query.send(function(response) {
            if (response.isError()) {
                alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
                return;
            }

            var data = response.getDataTable();

            start = new Date();
            start.setDate(start.getDate() - 7);

            var chart = new google.visualization.AreaChart(document.getElementById('wkProgress'));
            var options = {
                isStacked: true,
            };
            chart.draw(data, options);
        });
    });
</script>
    </head>
    <body>
        <div id="wkProgress" style="width:800; height:400">Loading...</div>
    </body>
</html>
